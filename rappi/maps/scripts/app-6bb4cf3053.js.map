{"version":3,"sources":["scripts/app.js"],"names":["angular","module","MainService","$http","urlApi","getData","success","data","news","map","item","hasOwnProperty","image","error","err","get","then","dataManager","$inject","service","MainController","$scope","$timeout","vm","loading","showNews","console","log","tooltip","title","_getTitleEvent","$on","event","transitionTitle","activate","bounceUp","this","extend","controller","itemNews","directive","restrict","templateUrl","scope","index","link","openContent","items","Array","from","document","getElementsByClassName","el","classList","remove","toggle","_sendEvent","contains","active","$emit","calcTime","showItem","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","controllerAs","otherwise","config","constant","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-6bb4cf3053.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('testRappi', ['ngAnimate', 'ui.router', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('testRappi')\n      .service('MainService', MainService);\n\n  /** @ngInject */\n  function MainService($http, urlApi) {\n    var dataManager = {\n    \tgetData: getData\n    }\n    return dataManager;\n    function getData() {\n      \n      return $http.get(urlApi).then(success, error);\n      function success(data){\n        var news = data.data;\n        news.map(function(item){\n            item['image'] = item.hasOwnProperty('image') ? item.image:'http://lorempixel.com/300/300';\n        });\n      \treturn news;\n      }\n      function error(err){\n      \treturn err;\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('testRappi')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($scope, $timeout, MainService) {\n    var vm = this;\n    \n    angular.extend(vm, {\n      news: [],\n      showNews: false,\n      tooltip: true,\n      getData: getData,\n      loading: false, \n      title: ''\n    });\n    activate();\n    function getData(){\n      vm.tooltip = false;\n      vm.loading = true;\n      vm.title ='';\n      MainService.getData()\n        .then(success, error)\n\n      function success(data){\n        vm.loading = false;\n        vm.showNews = true;\n        vm.news = data;\n       \n      }\n\n      function error(err){\n        console.log(err);\n      }\n    }\n  \n    function _getTitleEvent(){\n      $scope.$on('titleEvent', function(event, title){\n        vm.title = title;\n        $timeout(function() {\n          vm.transitionTitle = true;\n        }, 1000);\n      });\n    }\n\n    function activate() {\n      $timeout(function() {\n          vm.bounceUp = true;\n        }, 1000);\n      _getTitleEvent();\n    }\n    \n  \n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('testRappi')\n    .directive('itemNews', itemNews);\n\n  /** @ngInject */\n  function itemNews($timeout) {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/main/item-news.html',\n      scope: {\n          data: '=',\n          index: '='\n      },\n      link: function(scope){\n\t\t\t\tangular.extend(scope, {\n\t\t\t\t\tshowItem: false,\n\t\t\t\t\topenContent: openContent\n\t\t\t\t});\n\n\t\t  \tactivate();\n\n\t\t\t\tfunction openContent(){\n\t\t\t\t\tvar items = Array.from(document.getElementsByClassName('item-body'));\n\t\t\t\t\titems.map(function(el, index){\n\t\t\t\t\t\tif(index != scope.index){\n\t\t\t\t\t\t\tel.classList.remove('item-body__active');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tel.classList.toggle('item-body__active');\n\t\t\t\t\t\t\t_sendEvent(el.classList.contains('item-body__active'))\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfunction _sendEvent(active){\n\t\t\t\t\tvar title = active ? scope.data.title: '';\n\t\t\t\t\tscope.$emit('titleEvent', title);\n\t\t\t\t}\n\n\t\t\t\tfunction activate(){\n\t\t\t\t\tvar calcTime = 100 + (scope.index*50);\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tscope.showItem = true;\n\t\t\t  \t}, calcTime);\n\t\t\t\t}\n      \n      }\n    };\n\n    return directive;\n\n  }\n\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('testRappi')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('testRappi')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* \n\tUrls:\n\tDev: 'data/news.json'\n\tProd: 'https://jsonplaceholder.typicode.com/posts'\n   \n\n   .constant('urlApi', 'https://jsonplaceholder.typicode.com/posts');\n*/\n(function() {\n  'use strict';\n\n  angular\n    .module('testRappi')\n    .constant('urlApi', 'data/news.json');\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('testRappi')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n  }\n\n})();\n\nangular.module(\"testRappi\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/item-news.html\",\"<div class=\\\"item animated bounceInLeft\\\" ng-if=showItem><div class=item-row ng-click=openContent()><div class=avatar><img ng-src={{data.image}} alt=\\\"\\\"></div><div class=title><h2 ng-bind=data.title></h2></div></div><div class=item-body id=item-{{index}}><div class=avatar><img ng-src={{data.image}} alt=\\\"\\\"></div><div class=text><div class=title><h2 ng-bind=data.title></h2></div><div class=content><p ng-bind=\\\"data.content || data.body\\\"></p></div></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=container-app><div class=\\\"container feed animated bounceInUp\\\"><nav class=feed__navbar><i class=\\\"fa fa-bars\\\" aria-hidden=true ng-click=main.getData()></i><div class=tooltip ng-if=main.tooltip><span>Ver noticias</span></div><div class=app-title ng-if=!main.title><h1>dayly news</h1></div><div class=news-title ng-class=\\\"{\\'news-title__active\\': main.transitionTitle }\\\" ng-if=main.title><h1 ng-bind=main.title></h1></div></nav><div class=feed__items><div class=loading ng-if=main.loading><img src=assets/images/loading.gif alt=\\\"\\\"></div><div ng-repeat=\\\"data in main.news\\\" class=list-items ng-if=main.showNews><item-news data=data index=$index></item-news></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}